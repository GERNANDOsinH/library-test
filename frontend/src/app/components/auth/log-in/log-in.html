<div class="login-container">
  <h2>Inicio de SesiÃ³n</h2>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <input type="email" id="email" formControlName="email" placeholder="example@email.com">

      @if (loginForm.get('email')?.invalid && (loginForm.get('email')?.dirty || loginForm.get('email')?.touched)) {
        <div class="error-message">
          @if (loginForm.get('email')?.errors?.['required']) {
            <span>El email es obligatorio.</span>
          }
          @if (loginForm.get('email')?.errors?.['email']) {
            <span>Debe ser un formato de email vÃ¡lido.</span>
          }
        </div>
      }
    </div>

    <div class="form-group password-group">

      <input 
        [type]="passwordVisible ? 'text' : 'password'" 
        id="password" 
        formControlName="password"
        placeholder="password123#"
      >

      <button 
        type="button" 
        class="toggle-btn" 
        (click)="togglePasswordVisibility()"
        aria-label="Toggle password visibility"
      >
        @if (passwordVisible) {
          ğŸ‘ï¸
        } @else {
          ğŸ”’
        }
      </button>
      
      @if (loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)) {
        <div class="error-message">
          @if (loginForm.get('password')?.errors?.['required']) {
            <span>La contraseÃ±a es obligatoria.</span>
          }
          @if (loginForm.get('password')?.errors?.['minlength']) {
            <span>La contraseÃ±a debe tener al menos 6 caracteres.</span>
          }
        </div>
      }
    </div>

    <button type="submit" [disabled]="loginForm.invalid">
      Ingresar
    </button>
  </form>
  <a routerLink="/register">Â¿No tienes cuenta? Crea una cuenta</a>
</div>